Память выглядит следующим образом 

![[Pasted image 20250817214241.png]]
Физические адреса `0x0-0xffffff` и `0xf0000000-0xffffffff` отведены под hardware, ядро лежит в `0x1000000-0xfffffff`. Вся остальная память свободная и выделяется под кучу
В виртуальном пространстве ядро лежит в `0xffff800001000000-0xffff80000fffffff`. Куча разделена на часть для ядра и часть для процесса. Адреса `0xfffff00000000000-0xffffffffffff` отвечают за physmamp
